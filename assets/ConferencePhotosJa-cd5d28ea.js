import{_ as Z,r as c,B as ee,C as T,D as te,o as oe,G as se,H as ae,I as ne,s as $,b as n,c as l,e,d as q,y as le,t as i,j as u,F as P,h as N,J as ie,l as U,w as x,v as V,m as re,K as ce,p as z,L as ue,i as de}from"./index-9e957ce6.js";import{h as ve,p as pe,f as me,i as fe}from"./index-0ae7645b.js";import{c as ye}from"./util-9dadfb95.js";import{S as ge}from"./SliderCaptcha-7db91e07.js";const _e={class:"photos-container"},he={class:"content-wrapper"},be={class:"page-header"},ke={class:"conference-description"},we={class:"conference-info"},Ce={class:"info-card"},xe={class:"info-item"},Se={class:"info-content"},Pe={class:"info-value"},ze={class:"info-item"},Be={class:"info-content"},Ie={class:"info-value"},Fe={key:0,class:"info-item"},De={class:"info-content"},Me={class:"info-value"},Ne={key:1,class:"info-item"},Ue={class:"info-content"},Ve={class:"info-value"},je={key:2,class:"info-item"},Ae={class:"info-content"},Le={class:"info-value"},Re=["href"],Te={class:"photos-section"},$e={class:"gallery-tabs"},qe=["onClick"],Je={class:"gallery-container"},Ee={key:0,class:"photo-grid"},Ge=["onClick"],He={class:"photo-wrapper"},Ke=["src","alt"],Ye={class:"photo-caption"},Oe={key:1,class:"empty-state"},Qe={class:"photo-submission-form"},We={class:"form-group"},Xe={class:"form-group"},Ze={class:"form-group"},et=["value"],tt={class:"form-group"},ot={class:"form-group"},st={key:0,class:"file-preview"},at=["src"],nt={class:"form-group"},lt={class:"checkbox-label"},it={class:"form-actions"},rt=["disabled"],ct={key:0,class:"form-message"},ut={class:"fullscreen-content"},dt=["src","alt"],vt={class:"fullscreen-caption"},pt={class:"fullscreen-nav"},mt={class:"photo-counter"},ft={__name:"ConferencePhotosJa",setup(yt){const J=c(null),j=ee(),h=parseInt(j.params.year);j.params.location;const y=c(0),d=c(null),v=c(0),B=c([]),r=c({id:0,time:"",venue:"",chair:"",attendees:"",title:"",description:""}),S=["Èñã‰ºöÂºè","Áô∫Ë°®","ÈõÜÂêàÂÜôÁúü","„Ç§„Éô„É≥„Éà"],A={Èñã‰ºöÂºè:1,Áô∫Ë°®:2,ÈõÜÂêàÂÜôÁúü:3,„Ç§„Éô„É≥„Éà:4},a=c({name:"",email:"",category:"",description:"",picture:"",agreement:!1}),b=c(null),k=c(!1),g=c(""),_=c(1),w=c(12),I=c(0),C=async()=>{B.value=[];try{const o=await ve({year:h,category:A[S[y.value]],pageNo:_.value,pageSize:w.value});o&&(B.value=o.lists||[],I.value=o.count||0,_.value=o.pageNo||1,w.value=o.pageSize||12)}catch(o){console.error("ÂÜôÁúü„ÅÆÂèñÂæó„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:",o)}},p=T(()=>B.value.map(o=>({thumbnail:o.picture,fullsize:o.picture,caption:o.description||"Ë™¨Êòé„Å™„Åó"})));te(y,async o=>{_.value=1,await C()});const E=async o=>{_.value=o,await C()},G=async o=>{w.value=o,_.value=1,await C()},H=async o=>{let t=o.target.files[0];if(t)try{t.size>5*1024*1024&&(t=await ye(t));const m=new FormData;m.append("file",t),m.append("type","2");const M=await pe(m);a.value.picture=M;const s=new FileReader;s.onload=f=>{b.value=f.target.result},s.readAsDataURL(t),z.success("ÁîªÂÉè„ÅÆ„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ„Å´ÊàêÂäü„Åó„Åæ„Åó„Åü")}catch(m){console.error("ÁîªÂÉè„ÅÆ„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:",m),z.error("ÁîªÂÉè„ÅÆ„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ„ÇÇ„ÅÜ‰∏ÄÂ∫¶„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ")}},K=async()=>{if(!a.value.picture){z.error("ÂÖà„Å´ÁîªÂÉè„Çí„Ç¢„ÉÉ„Éó„É≠„Éº„Éâ„Åó„Å¶„Åè„Å†„Åï„ÅÑ");return}k.value=!0,g.value="";try{await fe({graduates_id:r.value.id,name:a.value.name,email:a.value.email,category:A[a.value.category],description:a.value.description,picture:a.value.picture,year:h}),g.value="„ÅîÊèêÂá∫„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„ÅôÔºÅÂÜôÁúü„ÅØÂØ©ÊüªÂæå„Å´Ë°®Á§∫„Åï„Çå„Åæ„Åô„ÄÇ",a.value={name:a.value.name,email:a.value.email,category:"",description:"",picture:"",agreement:!1},b.value=null;const o=document.getElementById("photo-file");o&&(o.value=""),await C()}catch(o){g.value="ÈÄÅ‰ø°„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇÂæå„Åß„ÇÇ„ÅÜ‰∏ÄÂ∫¶„ÅäË©¶„Åó„Åè„Å†„Åï„ÅÑ„ÄÇ",console.error("ÂÜôÁúü„ÅÆÈÄÅ‰ø°„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:",o)}finally{k.value=!1}},Y=async()=>{try{const o=await me(h);o&&(r.value={id:o.id,time:`${o.year}Âπ¥`,venue:o.location_jp||"",chair:o.chairman||"",attendees:`${o.attendees}Âêç`,title:o.title_jp||"",description:o.description_jp||"",link:o.link||""})}catch(o){console.error("‰ºöË≠∞„Éá„Éº„Çø„ÅÆÂèñÂæó„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:",o),z.error("‰ºöË≠∞„Éá„Éº„Çø„ÅÆÂèñÂæó„Å´Â§±Êïó„Åó„Åæ„Åó„Åü")}},O=[{year:2023,location:"Ë•øÂèåÁâàÁ¥ç"},{year:2018,location:"Ê°ÇÊûó"},{year:2012,location:"„Éè„É´„Éì„É≥"},{year:2008,location:"Âåó‰∫¨"},{year:2006,location:"‰∏äÊµ∑"},{year:2002,location:"Âåó‰∫¨"}];T(()=>O.filter(o=>o.year!==h).slice(0,4));const Q=()=>{document.body.style.overflow="hidden",document.body.style.paddingRight="15px"},F=()=>{document.body.style.overflow="",document.body.style.paddingRight=""},W=o=>{d.value=o,v.value=p.value.findIndex(t=>t===o),Q()},L=()=>{d.value=null,ue(()=>{F()})},R=o=>{const t=v.value+o;t>=0&&t<p.value.length&&(v.value=t,d.value=p.value[t])},D=()=>{y.value=0,d.value=null,v.value=0,a.value={name:"",email:"",category:"",caption:"",picture:"",agreement:!1},b.value=null,k.value=!1,g.value="",window.scrollTo(0,0),F()};return oe(async()=>{document.title=`${h}Âπ¥CJNLP‰ºöË≠∞ÂÜôÁúü`,await Y(),await C(),F(),window.scrollTo(0,0)}),se(()=>{D()}),ae(()=>{D()}),ne(()=>{D()}),(o,t)=>{const m=$("router-link"),M=$("el-pagination");return n(),l(P,null,[e("div",_e,[e("div",he,[e("div",be,[q(m,{to:"/ja/historical",class:"back-link"},{default:le(()=>t[7]||(t[7]=[e("span",{class:"back-icon"},"‚Üê",-1),e("span",null,"Ê≠¥Âè≤„Å´Êàª„Çã",-1)])),_:1,__:[7]}),e("h1",null,i(r.value.title),1),e("p",ke,i(r.value.description),1)]),e("div",we,[e("div",Ce,[e("div",xe,[t[9]||(t[9]=e("div",{class:"info-icon"},"üìÖ",-1)),e("div",Se,[t[8]||(t[8]=e("div",{class:"info-label"},"‰ºöË≠∞Êó•Á®ã",-1)),e("div",Pe,i(r.value.time),1)])]),e("div",ze,[t[11]||(t[11]=e("div",{class:"info-icon"},"üìç",-1)),e("div",Be,[t[10]||(t[10]=e("div",{class:"info-label"},"‰ºöË≠∞Â†¥ÊâÄ",-1)),e("div",Ie,i(r.value.venue),1)])]),r.value.chair?(n(),l("div",Fe,[t[13]||(t[13]=e("div",{class:"info-icon"},"üë•",-1)),e("div",De,[t[12]||(t[12]=e("div",{class:"info-label"},"‰ºöË≠∞Ë≠∞Èï∑",-1)),e("div",Me,i(r.value.chair),1)])])):u("",!0),r.value.attendees&&parseInt(r.value.attendees)>0?(n(),l("div",Ne,[t[15]||(t[15]=e("div",{class:"info-icon"},"üßë‚Äçü§ù‚Äçüßë",-1)),e("div",Ue,[t[14]||(t[14]=e("div",{class:"info-label"},"ÂèÇÂä†‰∫∫Êï∞",-1)),e("div",Ve,i(r.value.attendees),1)])])):u("",!0),r.value.link?(n(),l("div",je,[t[17]||(t[17]=e("div",{class:"info-icon"},"üåê",-1)),e("div",Ae,[t[16]||(t[16]=e("div",{class:"info-label"},"ÂÖ¨Âºè„Çµ„Ç§„Éà",-1)),e("div",Le,[e("a",{href:r.value.link,target:"_blank",rel:"noopener noreferrer",class:"website-link"}," „Çµ„Ç§„Éà„Å∏ ",8,Re)])])])):u("",!0)])]),e("div",Te,[e("div",$e,[(n(),l(P,null,N(S,(s,f)=>e("button",{key:f,class:de(["tab-btn",{active:y.value===f}]),onClick:X=>y.value=f},i(s),11,qe)),64))]),e("div",Je,[p.value.length>0?(n(),l("div",Ee,[(n(!0),l(P,null,N(p.value,(s,f)=>(n(),l("div",{key:f,class:"photo-item",onClick:X=>W(s)},[e("div",He,[e("img",{src:s.thumbnail,alt:s.caption},null,8,Ke),t[18]||(t[18]=e("div",{class:"photo-overlay"},[e("span",{class:"view-icon"},"üîç")],-1))]),e("div",Ye,i(s.caption),1)],8,Ge))),128))])):(n(),l("div",Oe,[t[19]||(t[19]=e("div",{class:"empty-icon"},"üì∑",-1)),e("p",null,i(S[y.value])+"„ÅÆÂÜôÁúü„ÅØ„Åæ„Å†„ÅÇ„Çä„Åæ„Åõ„Çì",1),t[20]||(t[20]=e("p",{class:"empty-suggestion"},"‰ªñ„ÅÆ„Ç´„ÉÜ„Ç¥„É™„Å´Âàá„ÇäÊõø„Åà„Å¶Èñ¢ÈÄ£ÂÜôÁúü„Çí„ÅîË¶ß„Åè„Å†„Åï„ÅÑ",-1))])),I.value>w.value?(n(),ie(M,{key:2,"current-page":_.value,"page-size":w.value,total:I.value,layout:"total, prev, pager, next, jumper",onCurrentChange:E,onSizeChange:G,class:"photo-pagination",style:{margin:"2rem 0 0","text-align":"center"}},null,8,["current-page","page-size","total"])):u("",!0)])]),e("div",Qe,[t[28]||(t[28]=e("h2",null,"ÂÄã‰∫∫ÂÜôÁúü„ÅÆÊèêÂá∫",-1)),t[29]||(t[29]=e("p",{class:"form-description"},"„Åì„ÅÆ‰ºöË≠∞„ÅÆÁ¥†Êô¥„Çâ„Åó„ÅÑÁû¨Èñì„ÇíÊíÆÂΩ±„Åï„Çå„Åæ„Åó„Åü„ÅãÔºü„ÅÇ„Å™„Åü„ÅÆÂÜôÁúü„Çí„Åø„Çì„Å™„Å®ÂÖ±Êúâ„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºÅ",-1)),e("form",{onSubmit:U(K,["prevent"])},[e("div",We,[t[21]||(t[21]=e("label",{for:"submitter-name"},"„ÅäÂêçÂâç",-1)),x(e("input",{type:"text",id:"submitter-name","onUpdate:modelValue":t[0]||(t[0]=s=>a.value.name=s),placeholder:"„ÅäÂêçÂâç„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ",required:""},null,512),[[V,a.value.name]])]),e("div",Xe,[t[22]||(t[22]=e("label",{for:"submitter-email"},"„É°„Éº„É´„Ç¢„Éâ„É¨„Çπ",-1)),x(e("input",{type:"text",id:"submitter-email","onUpdate:modelValue":t[1]||(t[1]=s=>a.value.email=s),placeholder:"ÈÄ£Áµ°ÂÖà„ÅÆ„É°„Éº„É´„Ç¢„Éâ„É¨„Çπ„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ",required:""},null,512),[[V,a.value.email]])]),e("div",Ze,[t[24]||(t[24]=e("label",{for:"photo-category"},"ÂÜôÁúü„Ç´„ÉÜ„Ç¥„É™",-1)),x(e("select",{id:"photo-category","onUpdate:modelValue":t[2]||(t[2]=s=>a.value.category=s),required:""},[t[23]||(t[23]=e("option",{value:""},"ÂÜôÁúü„Ç´„ÉÜ„Ç¥„É™„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ",-1)),(n(),l(P,null,N(S,s=>e("option",{key:s,value:s},i(s),9,et)),64))],512),[[re,a.value.category]])]),e("div",tt,[t[25]||(t[25]=e("label",{for:"photo-caption"},"ÂÜôÁúü„ÅÆË™¨Êòé",-1)),x(e("input",{type:"text",id:"photo-caption","onUpdate:modelValue":t[3]||(t[3]=s=>a.value.description=s),placeholder:"ÂÜôÁúü„ÅÆÂÜÖÂÆπ„ÇíÁ∞°Âçò„Å´Ë™¨Êòé„Åó„Å¶„Åè„Å†„Åï„ÅÑ",required:""},null,512),[[V,a.value.description]])]),e("div",ot,[t[26]||(t[26]=e("label",{for:"photo-file"},"ÂÜôÁúü„ÇíÈÅ∏Êäû",-1)),e("input",{type:"file",id:"photo-file",onChange:H,accept:"image/*",required:""},null,32),b.value?(n(),l("div",st,[e("img",{src:b.value,alt:"„Éó„É¨„Éì„É•„Éº"},null,8,at)])):u("",!0)]),e("div",nt,[e("label",lt,[x(e("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=s=>a.value.agreement=s),required:""},null,512),[[ce,a.value.agreement]]),t[27]||(t[27]=e("span",null,"ÁßÅ„ÅØCJNLP‰ºöË≠∞‰∏ªÂÇ¨ËÄÖ„Å´ÊèêÂá∫„Åó„ÅüÂÜôÁúü„ÅÆ‰ΩøÁî®„ÇíË®±ÂèØ„Åó„Åæ„Åô",-1))])]),e("div",it,[e("button",{type:"submit",class:"submit-btn",disabled:k.value},i(k.value?"ÈÄÅ‰ø°‰∏≠...":"ÂÜôÁúü„ÇíÈÄÅ‰ø°"),9,rt)]),g.value?(n(),l("div",ct,i(g.value),1)):u("",!0)],32)])])]),d.value?(n(),l("div",{key:0,class:"fullscreen-photo",onClick:L},[e("div",ut,[e("img",{src:d.value.fullsize,alt:d.value.caption},null,8,dt),e("div",vt,i(d.value.caption),1),e("button",{class:"close-fullscreen",onClick:L},"√ó"),e("div",pt,[v.value>0?(n(),l("button",{key:0,class:"nav-btn prev",onClick:t[5]||(t[5]=U(s=>R(-1),["stop"]))}," ‚Üê ")):u("",!0),e("div",mt,i(v.value+1)+" / "+i(p.value.length),1),v.value<p.value.length-1?(n(),l("button",{key:1,class:"nav-btn next",onClick:t[6]||(t[6]=U(s=>R(1),["stop"]))}," ‚Üí ")):u("",!0)])])])):u("",!0),q(ge,{ref_key:"captchaRef",ref:J,lang:"ja"},null,512)],64)}}},kt=Z(ft,[["__scopeId","data-v-e0c8f2c2"]]);export{kt as default};
